<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<service
	xmlns="http://www.simplity.org/schema"
	name="contractFind"
	dbAccessType="readOnly">
	<actions>
		<filter filterRecordName="Contract" outputSheetName="contractHeaders">
			<childRecords>			
				<relatedRecord sheetName="storage" recordName="Storage"/>
				<relatedRecord sheetName="roles" recordName="Role"/>
			</childRecords>
		</filter>
		<filter filterRecordName="RoleType" outputSheetName="roleType"> 
		</filter>
		<log names="contracts,storage,roles,roleType"/>		
	</actions>
	<outputData justOutputEveryThing="true">
		<outputRecords>
			<outputRecord sheetName="contractHeaders"/>
			<outputRecord sheetName="storage" parentSheetName="contractHeaders" linkColumnInParentSheet="id" linkColumnInThisSheet="contractId"/>
			<outputRecord sheetName="roles" parentSheetName="contractHeaders" linkColumnInParentSheet="id" linkColumnInThisSheet="contractId"/>
			<outputRecord sheetName="roleType" parentSheetName="roles" linkColumnInParentSheet="roleId" linkColumnInThisSheet="roleId"/>
		</outputRecords>
	</outputData>
</service>