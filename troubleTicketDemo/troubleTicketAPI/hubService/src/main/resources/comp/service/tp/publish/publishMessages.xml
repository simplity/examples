<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<service xmlns="http://www.simplity.org/schema" name="publishMessages"
	moduleName="publish">
	<actions>
		<log names="action" />
		<httpClient httpMethod="POST" urlString="$callback"
			contentType="application/json" executeOnCondition="action=='add'">
			<requestData>
				<outputRecords>
					<outputRecord recordName="ticket" />
					<outputRecord recordName="relatedObjects" />
					<outputRecord recordName="relatedParties" />
					<outputRecord recordName="notes" />
				</outputRecords>
			</requestData>
		</httpClient>
		<setValue fieldName="url" expression="concat(callback,'/',id)"
			executeOnCondition="action=='update'"></setValue>
		<httpClient httpMethod="PUT" urlString="$url" contentType="application/json"
			executeOnCondition="action=='update'">
			<requestData>
				<outputRecords>
					<outputRecord recordName="ticket" />
					<outputRecord recordName="relatedObjects" />
					<outputRecord recordName="relatedParties" />
					<outputRecord recordName="notes" />
				</outputRecords>
			</requestData>
		</httpClient>
	</actions>
</service>