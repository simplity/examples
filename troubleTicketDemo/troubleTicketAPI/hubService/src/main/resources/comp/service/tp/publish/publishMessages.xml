<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<service
	xmlns="http://www.simplity.org/schema"
	name="publishMessages"
	moduleName="publish">
	<actions>
	<log names="description,type"/>
		<httpClient httpMethod="POST" urlString="$callback" contentType="application/json" executeOnCondition="action=='add'">
			<requestData fieldNames="id,correlationId,description,severity,type,creationDate,targetResolutionDate,status,subStatus,statusChangeReason,statusChangeDate,resolutionDate">			
			</requestData>			
		</httpClient>
		<setValue fieldName="url" expression="concat(callback,'/',id)" executeOnCondition="action=='update'"></setValue>
		<httpClient httpMethod="PUT" urlString="$url" contentType="application/json" executeOnCondition="action=='update'">
			<requestData fieldNames="id,correlationId,description,severity,type,creationDate,targetResolutionDate,status,subStatus,statusChangeReason,statusChangeDate,resolutionDate">			
			</requestData>			
		</httpClient>
	</actions>
</service>